<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="no-referrer">
    <title></title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/themes/base/jquery-ui.min.css">
</head>
<body>
    <p class="text-center">ã€æ”¯æ´ä¾é ¼ãƒ•ã‚©ãƒ¼ãƒ ã€‘</p>
    <p class="text-center">ä¸‹è¨˜ç©ºæ¬„ã‚’å…¥åŠ›ã‚’ã—ã¦ã€é€ä¿¡ã—ã¦ãã ã•ã„</p>
    <form class="w-75 mx-auto" onsubmit="submitForm(); return false;">
        <p class="mt-3">éƒ¨ç½²</p>
        <div>
            <input class="form-control" name="busyo" placeholder="ä¾‹ï¼‰é³¥å–" required>                                                                                                                      
        </div>
        <p class="mt-3">æ°å</p>
        <div>
              <select class="form-control w-100 mt-1" name="name" required>
                 <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                 <option value="é«˜æ©‹å¤§è¼”">é«˜æ©‹å¤§è¼”</option>
                 <option value="é‡è¦ªäº®ä»‹">é‡è¦ªäº®ä»‹</option>
                 <option value="å±±æ¾¤äº®å¤ª">å±±æ¾¤äº®å¤ª</option>
                 <option value="ç‰§ç”°å¯›ä¹‹">ç‰§ç”°å¯›ä¹‹</option>
                 <option value="å°æ¤‹æ”¿ç¶™">å°æ¤‹æ”¿ç¶™</option>
                 <option value="åœŸå²å¤§è¼”">åœŸå²å¤§è¼”</option>
              </select>
        </div>
        
        <p class="mt-3">ãƒ¡ãƒ¼ã‚«ãƒ¼</p>
        <div>
            <input class="form-control w-100 mt-1" name="maker" placeholder="ä¾‹ï¼‰ã‚µãƒ³ãƒ¨ãƒ¼" required>                                                                                                                      
        </div>
        <p class="mt-3">å•†å“</p>
        <div>
            <input class="form-control w-100 mt-1 mb-2" name="syohin" placeholder="ä¾‹ï¼‰å†·è”µåº«" required>                                                                                                                     
        </div>
        
        <p class="mt-3">å‹å¼</p>
        <div>
            <input class="form-control w-100 mt-1 mb-2" name="katasiki" placeholder="ä¾‹ï¼‰SRRï¼F1561C2A" required>                                                                                                                     
        </div>
        <p class="mt-3">æ©Ÿç•ªï¼ˆä¸æ˜ã®å ´åˆã¯ç©ºç™½ã§å¯ï¼‰</p>
        <div>
            <input class="form-control w-100 mt-1 mb-2" name="kiban" placeholder="A012345" >                                                                                                                     
        </div>
        <p class="mt-5">ä»¥ä¸‹ã¯å¿…è¦ãªéƒ¨å“åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚</p>
        <p class="mt-n1">å±•é–‹å›³ãªã©ãŒå¿…è¦ã§ã‚ã‚Œã°ã€Œå±•é–‹å›³å¸Œæœ›ã€ãªã©ã¨å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚</p>
        <div>
            <input class="form-control w-100 mt-1" name="buhin" placeholder="ä¾‹ï¼‰ãƒ•ã‚¡ãƒ³ãƒ¢ãƒ¼ã‚¿ãƒ¼" required>
        </div>
        <p class="mt-3">ç—‡çŠ¶ï¼ˆéƒ¨å“æ³¨æ–‡ã®å ´åˆã¯ç©ºç™½ã§å¯ï¼‰</p>
        <div>
            <input class="form-control w-100 mt-1 mb-2" name="syoujyou" placeholder="ä¾‹ï¼‰ç•°éŸ³ãŒã™ã‚‹" >                                                                                                                     
        </div>
       <div>
  <p class="mt-5" required>ä¿®ç†è¦‹ç©ã‚‚ã‚Šä½œæˆã«ã¤ã„ã¦</p>
<div class="mb-3">
    <input id="radio-a" type="radio" name="mitsumori" value="å¿…è¦" checked><label for="radio-a">å¿…è¦</label>
    <input id="radio-b" type="radio" name="mitsumori" value="éƒ¨å“ä¾¡æ ¼ã®ã¿çŸ¥ã‚ŠãŸã„"><label for="radio-b">éƒ¨å“ä¾¡æ ¼ã®ã¿çŸ¥ã‚ŠãŸã„</label>
</div>
           
           <p class="mt-3">ç¾å ´å</p>
        <div>
            <input class="form-control w-100 mt-1" name="genba" placeholder="ä¾‹ï¼‰å±…é…’å±‹ã‚ˆã—ã¾ã¤" required>                                                                                                                      
        </div>
           
          
   
       <p class="mt-5 mb-0">å‚™è€ƒæ¬„ï¼ˆç©ºæ¬„ã§ã‚‚å¯ï¼‰</p>    
       <div>
  ã€€ã€€ã€€ã€€<textarea class="form-control h-25" name="bikou" id="exampleFormControlTextarea1"  <input type="text" placeholder="éƒ¨å“ã®è©³ç´°ãªä»•æ§˜ã¯ã“ã¡ã‚‰ã¸ã€‚ã‚µãƒ¼ãƒ“ã‚¹æ”¯æ´ã‹ã‚‰ã®è¿”ä¿¡å¸Œæœ›ã‚¢ãƒ‰ãƒ¬ã‚¹ãªã©ã‚‚ã‚³ãƒãƒ©ã‹ã‚‰å…¥åŠ›ã€‚ä¾‹ãˆã°ã€Œã“ã®è¿”ä¿¡ã¯hoshizaki-xxx@example.comã¾ã§ãŠé¡˜ã„ã—ã¾ã™ã€‚ã€">
</textarea>
ã€€ã€€ã€€ã€€</div> 
        
        <p class="mt-3">ç”»åƒ</p>
        <input type="file" id="example" multiple>

ã€€ã€€ã€€ã€€ã€€<!-- ğŸ‘‡ã“ã“ã«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»åƒã‚’è¿½åŠ ã™ã‚‹ -->
ã€€ã€€ã€€ã€€ã€€<div id="preview"></div>
       
       
        <input type="submit" class="mt-4 btn btn-primary" value="é€ä¿¡ã™ã‚‹">
    </form>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2.1/sdk.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
   <script>
       
       // ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‡ãƒ¼ã‚¿
const file = document.getElementById("example").files[0];
// ãƒ•ã‚©ãƒ¼ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆ
const formData = new FormData();
// avatarã¨ã„ã†ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ 
formData.append("avatar", file);
// ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
fetch("https://drive.google.com/drive/u/0/folders/1YozMI7lC97vKdhK4nVo--uASXmFRPvu5", { method: "POST", body: formData });

        $(document).ready(function () {
            const liffId = "1661066964-VDmMrPNX";
            initializeLiff(liffId);
        })

        function initializeLiff(liffId) {
            liff.init({
                liffId: liffId
            }).then(() => {
                initializeApp();
            }).catch((err) => {
                console.log('LIFF Initialization failed ', err);
            });
        }
       
       
       
       function previewFile(file) {
  // ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»åƒã‚’è¿½åŠ ã™ã‚‹è¦ç´ 
  const preview = document.getElementById('preview');

  // FileReaderã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ
  const reader = new FileReader();

  // URLã¨ã—ã¦èª­ã¿è¾¼ã¾ã‚ŒãŸã¨ãã«å®Ÿè¡Œã™ã‚‹å‡¦ç†
  reader.onload = function (e) {
    const imageUrl = e.target.result; // URLã¯event.target.resultã§å‘¼ã³å‡ºã›ã‚‹
    const img = document.createElement("img"); // imgè¦ç´ ã‚’ä½œæˆ
    img.src = imageUrl; // URLã‚’imgè¦ç´ ã«ã‚»ãƒƒãƒˆ
    preview.appendChild(img); // #previewã®ä¸­ã«è¿½åŠ 
  }

  // ã„ã–ãƒ•ã‚¡ã‚¤ãƒ«ã‚’URLã¨ã—ã¦èª­ã¿è¾¼ã‚€
  reader.readAsDataURL(file);
}
       
     

        function sendText(text) {
            liff.sendMessages([{
                'type': 'text',
                'text': text
            }]).then(function () {
                liff.closeWindow();
            }).catch(function (error) {
                window.alert('Failed to send message ' + error);
            });
        }
        


        const params = (new URL(document.location)).searchParams;
        const key = params.get('key');
       

        
     
        
        $(function () {
        $('form').submit(function (event) {
            event.preventDefault();
            Swal.fire({
                title: 'é€ä¿¡ç¢ºèª',
                text: 'æœ¬å½“ã«é€ä¿¡ã—ã¾ã™ã‹ï¼Ÿ',
                icon: 'question',
                showCancelButton: true,
                confirmButtonText: 'é€ä¿¡',
                cancelButtonText: 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«'
            }).then((result) => {
                if (result.isConfirmed) {
                    const busyo = $('input[name="busyo"]').val();
                    const name = $('select[name="name"]').val();
                    const maker = $('input[name="maker"]').val();
                    const syohin = $('input[name="syohin"]').val();
                    const katasiki = $('input[name="katasiki"]').val();
                    const kiban = $('input[name="kiban"]').val();
                    const buhin = $('input[name="buhin"]').val();
                    const syoujyou = $('input[name="syoujyou"]').val();
                    const mitsumori = $('input[name="mitsumori"]:checked').val();
                    const genba = $('input[name="genba"]').val();
                    const bikou = $('textarea[name="bikou"]').val().replaceAll("\n", "ã€€");
                    const gazou = $('input[name="gazou"]').val();
                    const msg = `ã€é€ä¿¡å†…å®¹ã€‘\n${busyo}\n${name}\n${maker}\n${syohin}\n${katasiki}\n${kiban}\n${buhin}\n${syoujyou}\n${mitsumori}\n${genba}\n${bikou}\n${gazou}`;
                    sendText(msg);
                }
            });
        });
    });


        

    </script>
</body>
</html>
